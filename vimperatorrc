" File: vimperatorrc
" Author: Bohr Shaw(pubohr@gmail.com)
" Description: vimperator configuration.

" Firefox options {{{1
" Always open a link in the current tab
au VimperatorEnter .* set! browser.link.open_newwindow=1
" set! browser.link.open_newwindow.restriction=0

" Options {{{1
" A unified runtime path
set rtp=~/vimperator,~/.vimperator

" Being in normal mode when opening any page
" set focuscontent

" Defines how command-line completion works
set wildmode=list:longest,full

" Characters to generate hint labels (case-sensitive)
set hintchars=asdfghjklweruio

" The default search engine to use
" set defsearch=google

" The editor to open when pressing <C-I> in insert mode
set editor='gvim -f --cmd "let l=1"'

" Change the current directory to $HOME
silent cd ~

" Set the color scheme
color indigo

" Mappings {{{1
" Map {{{2
noremap ; :
noremap @; @:

" Start the extended hint mode
noremap , ;

" Switch tabs
noremap gj <c-n>
noremap gk gT
noremap l <c-n>
noremap h gT

" Move tabs
noremap J :tabm +1<cr>
noremap K :tabm -1<cr>

" Active the search box
noremap <c-e> i<c-e>

" Delete tabs
noremap x gtD
noremap X gTd

" Yank the URL of a link
noremap e ;y

" Toggle options {{{3
" Tool bars
nnoremap sm :set gui=invmenu<cr>
nnoremap st :set gui=invtabs<cr>
nnoremap sn :set gui=invnavigation<cr>
nnoremap sb :set gui=invbookmarks<cr>
nnoremap sa :set gui=invaddons<cr>

nnoremap soh :set hlsearch!<cr>
nnoremap sol :set linksearch!<cr>

" Show the current website with a minimal style sheet to make it easily accessible.
nnoremap sou :set usermode!<cr>

" Map! {{{2
" Recall older or more recent command-line matching the current command-line
" from history
cnoremap <C-P> <Up>
cnoremap <C-N> <Down>

" Move the cursor around one word
inoremap <A-f> <C-Right>
cnoremap <A-f> <C-Right>
inoremap <A-b> <C-Left>
cnoremap <A-b> <C-Left>

" Move the cursor around one character
inoremap <C-F> <Right>
cnoremap <C-F> <Right>
inoremap <C-B> <Left>
cnoremap <C-B> <Left>

" Delete one word after the cursor
inoremap <A-d> <C-Del>
cnoremap <A-d> <C-Del>

" Abbreviations {{{2
ca tm tabm

ca his hist -m 10

ca pos powershell

ia boh bohrshaw
ia bog bohrshaw@gmail.com
ia boo bohrshaw@outlook.com
ia boq bohrshaw@qq.com
ia ast astenboer

" Helpers {{{1
" Open a help page in a new tab
command! -nargs=? -complete=help H tab h <args>

" Open the download window in a new tab
command! Dl tab dl

" Open about:config
command! config open about:config

" Get words definition from google
command! -nargs + define open https://www.google.com.hk/search?q=define+<args>

" Close the find bar
noremap <c-s-f> :js getBrowser().getFindBar().close()<cr>
inoremap <c-s-f> <esc><esc>:js getBrowser().getFindBar().close()<cr>

" Open epub catalog
noremap <leader>oe :tabopen chrome://epubreader/content/catalog.xul<cr>

" Open the QQ cloud input method
command! OpenInputMethod open javascript:(function(q){q?q.toggle():function(d,j){j=d.createElement('script');j.async=true;j.src='//ime.qq.com/fcgi-bin/getjs';j.setAttribute('ime-cfg','lt=2&im=122');d=d.getElementsByTagName('head')[0];d.insertBefore(j,d.firstChild)}(document)})(window.QQWebIME)
noremap <c-s-space> :OpenInputMethod<cr>
inoremap <c-s-space> <esc>:OpenInputMethod<cr>gi

" vim:ft=vimperator fdm=marker commentstring="\ %s tw=80:
